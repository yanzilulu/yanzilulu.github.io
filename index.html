<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Yanzi&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="hello world">
<meta property="og:type" content="website">
<meta property="og:title" content="Yanzi's blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Yanzi's blog">
<meta property="og:description" content="hello world">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Yanzi's blog">
<meta name="twitter:description" content="hello world">
<meta name="twitter:creator" content="@yanzilulu">
  
  
    <link rel="shortcut icon" href="http://7xjbmk.com1.z0.glb.clouddn.com/Lu.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?9bbd8d38d799e71ce56b28904eb38678";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

  
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="overlay"></div>
  <div id="header-outer" class="outer">
    <div id="profile_img">
      <img id="circle_img" src="http://7xjbmk.com1.z0.glb.clouddn.com/hello/yanzilulu.jpg" />
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Yanzi&#39;s blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">hello world</a>
        </h2>
      
    </div>
    <div id="header-menu">
      <nav id="main-nav">
        <ul>
        
          <li><a href="/"><i class="fa fa-home icon-setting"></i></a></li>
        
          <li><a href="/archives"><i class="fa fa-archive icon-setting"></i></a></li>
        
          <li><a href="/about"><i class="fa fa-user icon-setting"></i></a></li>
        
          <li><a href="/atom.xml"><i class="fa undefined icon-setting"></i></a></li>
        
        
        </ul>
      </nav>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/08/06/hello-world/" class="article-date">
  <time datetime="2015-08-06T14:39:18.401Z" itemprop="datePublished">2015-08-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/06/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick_Start">Quick Start</h2><h3 id="Create_a_new_post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
<p></p><p data-height="268" data-theme-id="0" data-slug-hash="dgjxE" data-default-tab="result" data-user="amustill" class="codepen">See the Pen <a href="http://codepen.io/amustill/pen/dgjxE/" target="_blank" rel="external">Yet more CSS loading animations</a> by Adam Mustill (<a href="http://codepen.io/amustill" target="_blank" rel="external">@amustill</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p>
<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<iframe width="100%" height="300" src="//jsfiddle.net/timnew/r3j6a92c/4/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/06/hello-world/" data-id="cid0cmely0008d8lbu835lcmh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>

  


<section id="comment">
  
    <article id="post-Making Sense of Clip Path译文" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/02/Making Sense of Clip Path译文/" class="article-date">
  <time datetime="2015-06-01T16:08:29.000Z" itemprop="datePublished">2015-06-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/blog/">blog</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/02/Making Sense of Clip Path译文/">Making Sense of Clip Path译文</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="理解Clip_Path">理解Clip Path</h1><p><em>Published on Apr 14 BY <a href="https://medium.com/@drewisthe" target="_blank" rel="external">Drew Minns</a></em></p>
<p>在教学过程中的一个很重要的部分是，学生们通常都有很多非常新鲜的想法。而我们则倾向于思考要如何完成一项任务，也因此错过了很多可用的而且很酷的新技术。</p>
<p>看看我们训练营第一个星期的项目，是一个简单的单页网站，用于演示对HTML和CSS的理解：使用语义化的标记语言和CSS来实现样式。我们的其中一个学生，<a href="http://heatherbanks.ca/" target="_blank" rel="external">Heather Banks</a>，她曾经作为我的学生part-time参与过HTML/CSS课程，想要复制一个在<a href="http://www.squarespace.com/about/values" target="_blank" rel="external">Squarespace</a>上看到的效果，周围的div元素似乎有被剪裁（如图）。</p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/1037/1*QAB2aracewqbOH03AK7QgA.jpeg" alt=""></p>
<p>因为我知道以她以往的经验，网站上的HTML和CSS完全在她的技术水平之内，于是我帮助她完成了这个效果。将nav导航被剪裁的过程显示出来是不容易的，我的第一反应是创建一个相匹配的背景被部分裁剪的图像，然后把它设置为一个after元素。问题是，它的响应被固定了，而且并不完全可控制。</p>
<h2 id="关于CSS属性_clip-path">关于CSS属性 <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath" target="_blank" rel="external"><code>clip-path</code></a></h2><p>这个小家伙还是工作草案的一部分，这个草案提供了通过掩蔽和剪裁来隐藏部分元素的工具。但是 <code>clip-path</code> 还没有得到所有主流浏览器广泛支持（包括Firefox和IE），只是一个用于在webkit浏览器上完成时尚效果的很棒的小工具。</p>
<p><em>注意，为了在现代浏览器中使用，我们需要使用<code>-webkit</code>前缀。</em></p>
<p>它的工作方式是提供一系列的X值和Y值来创建路径。当使用这些值创建一条完整路径时，就会把图像按照路径内部的尺寸进行裁剪。</p>
<p>我们可以创建圆形、椭圆、多边形等许许多多不同的形状，创造力是唯一的限制。</p>
<h3 id="一个简单的三角形剪裁">一个简单的三角形剪裁</h3><p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*HeJxe0D293tIFTCyHAL4lQ.png" alt=""></p>
<p><em>View the code on <a href="http://codepen.io/drewminns/pen/emeVLz" target="_blank" rel="external">codepen</a></em></p>
<p>上面的效果是通过简单地使用一个应用了clip-path属性的元素来完成的。</p>
<pre><code><span class="class">.clipClass</span> <span class="rules">{
  <span class="rule"><span class="attribute">-webkit-clip-path</span>:<span class="value"> <span class="function">polygon</span>(<span class="number">0</span> <span class="number">100%</span>, <span class="number">50%</span> <span class="number">0</span>, <span class="number">100%</span> <span class="number">100%</span>)</span></span>;
}</span>
</code></pre><h2 id="哇，让我们来逐个分析一下">哇，让我们来逐个分析一下</h2><p>首先，和位置属性非常相像，我们需要考虑X和Y的值。<code>X:0</code> 以及 <code>Y:0</code> 表示从元素的左上角开始，并从那里移动。 <code>X:100%</code> 表示元素右边， <code>Y:100%</code> 表示元素的底部。</p>
<p>Got it~所以，上面创建的路径，它实际上创建了如下的点：</p>
<pre><code><span class="string">x:</span> <span class="number">0</span>, <span class="string">y:</span><span class="number">100</span>%
<span class="string">x:</span> <span class="number">50</span>%, <span class="string">y:</span> <span class="number">0</span>
<span class="string">x:</span> <span class="number">100</span>%, <span class="string">y:</span> <span class="number">100</span>%
</code></pre><p>这条简单的路径从左下角的坐标点开始，水平移动到50%的位置，然后垂直向上到达顶部的坐标点，接着水平移动到100%的位置，最后垂直向下回到底部，到达第三个坐标点。这样子用三个点就完成了一个三角形！</p>
<p>所以边界之外的所有东西都会被直接剪裁，无法显示。而元素本身仍然保持其尺寸，只是它的表示层改变了。</p>
<h2 id="形状">形状</h2><p>在上面的示例中，我们使用了一个多边形来创建形状，然后通过多组用逗号分隔的X和Y的值来定义路径。但是，我们也可以通过取不同的图形函数来创建不同的形状。</p>
<h3 id="圆形">圆形</h3><p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*11a90XLxNmMUrDf9G2fWFg.png" alt=""></p>
<p><em>View the code on <a href="http://codepen.io/drewminns/pen/azVYmq" target="_blank" rel="external">codepen</a></em></p>
<p>要创建圆形，我们需要在圆形中输入三个值。圆心的<strong>x轴</strong>和<strong>y轴</strong>坐标，以及圆的<strong>半径</strong>。先定义圆的半径，再使用关键词‘<strong>at</strong>’来定义圆心的x和y坐标。</p>
<pre><code><span class="class">.clipClass</span> <span class="rules">{
  <span class="rule"><span class="attribute">-webkit-clip-path</span>:<span class="value"> <span class="function">circle</span>(<span class="number">50%</span> at <span class="number">50%</span> <span class="number">50%</span>)</span></span>;
}</span>
</code></pre><h3 id="椭圆">椭圆</h3><p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*TadaOOnZnV6kJYYL84QL4w.png" alt=""></p>
<p><em>View this code on <a href="http://codepen.io/drewminns/pen/qEVoaK" target="_blank" rel="external">codepen</a></em></p>
<p>很多时候你需要的并不只是一个简单的圆，还有椭圆。所以来看看椭圆形。</p>
<p>为了省略，只需要提供四个值。椭圆的x轴半径和y轴半径（或形状），后面跟一个‘at’关键字，用于分开另外一组用于定义椭圆位置的x和y坐标。</p>
<pre><code><span class="class">.clipClass</span> <span class="rules">{
  <span class="rule"><span class="attribute">-webkit-clip-path</span>:<span class="value"> <span class="function">ellipse</span>(<span class="number">30%</span> <span class="number">20%</span> at <span class="number">50%</span> <span class="number">50%</span>)</span></span>;
}</span>
</code></pre><h3 id="Inset">Inset</h3><p>（<em>在老版本的Chrome中可能有不少错误</em>）</p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*hKU0Ktr6nLKvZyq-SaU2Iw.png" alt=""></p>
<p><em>View the code on <a href="http://codepen.io/drewminns/pen/myqxrg" target="_blank" rel="external">codepen</a></em></p>
<p>因为多边形边缘锐利，所以它可能不是你想要的东西，你想创建的是圆角矩形，所以我们来看看Inset的值。Inset使用四个值（对应“<strong>上 右 下 左</strong>”的顺序）来设置<strong>圆角半径</strong>。</p>
<pre><code><span class="class">.clipClass</span> <span class="rules">{
  <span class="rule"><span class="attribute">-webkit-clip-path</span>:<span class="value"> <span class="function">inset</span>(<span class="number">25%</span> <span class="number">0</span> <span class="number">25%</span> <span class="number">0</span> round <span class="number">0</span> <span class="number">25%</span> <span class="number">0</span> <span class="number">25%</span>)</span></span>;
}</span>
</code></pre><p>上面的各个值分别对应：</p>
<pre><code><span class="function">inset</span>(&lt;<span class="attribute">top</span>&gt; &lt;<span class="attribute">right</span>&gt; &lt;<span class="attribute">bottom</span>&gt; &lt;<span class="attribute">left</span>&gt; round &lt;<span class="attribute">top</span>-radius&gt; &lt;<span class="attribute">right</span>-radius&gt; &lt;<span class="attribute">bottom</span>-radius&gt; &lt;<span class="attribute">left</span>-radius&gt;)
</code></pre><p><strong>哇，挺混乱的！</strong>不过有个好消息！它有简写版：</p>
<pre><code><span class="class">.clipClass</span> <span class="rules">{
  <span class="rule"><span class="attribute">-webkit-clip-path</span>:<span class="value"> <span class="function">inset</span>(<span class="number">25%</span> <span class="number">0</span> round <span class="number">0</span> <span class="number">25%</span>)</span></span>;
}</span>
</code></pre><h2 id="快速参考">快速参考</h2><ul>
<li><strong>Circle:</strong> <em>circle(radius at x-axis y-axis)</em></li>
<li><strong>Ellipse:</strong> <em>ellipse(x-rad y-rad at x-axis y-axis)</em></li>
<li><strong>Polygon:</strong> <em>polygon(x-axis y-axis, x-axis y-axis, … )</em></li>
<li><strong>Inset:</strong> <em>inset(top right bottom left round top-radius right-radius bottom-radius left-radius)</em></li>
</ul>
<h2 id="创建形状">创建形状</h2><p>因为圆形和圆角形状被限制了只能有几个参数值，所以多边形是我们创建复杂形状的最好选择。多边形有定义多个点的能力，有助于我们以各种方式来裁剪元素。</p>
<h3 id="漫画文本框">漫画文本框</h3><p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*hFi3Eum8o-4L4JV4cGiuyw.png" alt=""></p>
<p><em>View the code on <a href="http://codepen.io/drewminns/pen/WbXzbb" target="_blank" rel="external">codepen</a></em></p>
<pre><code>.clipClass {
  -webkit-<span class="keyword">clip</span>-path: polygon(<span class="number">0</span>% <span class="number">0</span><span class="variable">%,</span> <span class="number">100</span>% <span class="number">0</span><span class="variable">%,</span> <span class="number">100</span>% <span class="number">75</span><span class="variable">%,</span> <span class="number">75</span>% <span class="number">75</span><span class="variable">%,</span> <span class="number">75</span>% <span class="number">100</span><span class="variable">%,</span> <span class="number">50</span>% <span class="number">75</span><span class="variable">%,</span> <span class="number">0</span>% <span class="number">75</span><span class="variable">%)</span>;
}
</code></pre><h3 id="五角星">五角星</h3><p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*8mdehgQyTKb5zCdejyiYVg.png" alt=""></p>
<p><em>View the code on <a href="http://codepen.io/drewminns/pen/zxPWxd" target="_blank" rel="external">codepen</a></em></p>
<pre><code>.clipClass {
  -webkit-<span class="keyword">clip</span>-path: polygon(<span class="number">50</span>% <span class="number">0</span><span class="variable">%,</span> <span class="number">63</span>% <span class="number">38</span><span class="variable">%,</span> <span class="number">100</span>% <span class="number">38</span><span class="variable">%,</span> <span class="number">69</span>% <span class="number">59</span><span class="variable">%,</span> <span class="number">82</span>% <span class="number">100</span><span class="variable">%,</span> <span class="number">50</span>% <span class="number">75</span><span class="variable">%,</span> <span class="number">18</span>% <span class="number">100</span><span class="variable">%,</span> <span class="number">31</span>% <span class="number">59</span><span class="variable">%,</span> <span class="number">0</span> <span class="number">38</span><span class="variable">%,</span> <span class="number">37</span>% <span class="number">38</span><span class="variable">%)</span>;
}
</code></pre><h2 id="动画">动画</h2><p>所以，既然我们已经对各种形状以及如何创建形状有所掌握，那我们如何把它们用于创建效果呢？</p>
<p>我们可以给形状应用一个hover，并用过渡属性来创建平滑的效果。但是我们需要记住，我们创建的初始默认状态，必须同所有的hover状态都使用相同的坐标系。</p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/736/1*JUTLq1VByyv7UsvKhNuCww.gif" alt=""></p>
<p><em>View the code on <a href="http://codepen.io/drewminns/pen/VYrXvG" target="_blank" rel="external">codepen</a></em></p>
<pre><code>.animateClass {
  -webkit-<span class="keyword">clip</span>-path: polygon(<span class="number">20</span>% <span class="number">0</span><span class="variable">%,</span> <span class="number">0</span>% <span class="number">0</span><span class="variable">%,</span> <span class="number">0</span>% <span class="number">50</span><span class="variable">%,</span> <span class="number">0</span>% <span class="number">80</span><span class="variable">%,</span> <span class="number">0</span>% <span class="number">100</span><span class="variable">%,</span> <span class="number">50</span>% <span class="number">100</span><span class="variable">%,</span> <span class="number">80</span>% <span class="number">100</span><span class="variable">%,</span> <span class="number">100</span>% <span class="number">100</span><span class="variable">%,</span> <span class="number">100</span>% <span class="number">50</span><span class="variable">%,</span> <span class="number">100</span>% <span class="number">0</span>, <span class="number">80</span>% <span class="number">0</span>, <span class="number">50</span>% <span class="number">0</span>);
}
.animateClass:hover {
  -webkit-<span class="keyword">clip</span>-path: polygon(<span class="number">50</span>% <span class="number">0</span><span class="variable">%,</span> <span class="number">0</span>% <span class="number">20</span><span class="variable">%,</span> <span class="number">30</span>% <span class="number">50</span><span class="variable">%,</span> <span class="number">0</span>% <span class="number">80</span><span class="variable">%,</span> <span class="number">20</span>% <span class="number">100</span><span class="variable">%,</span> <span class="number">50</span>% <span class="number">70</span><span class="variable">%,</span> <span class="number">80</span>% <span class="number">100</span><span class="variable">%,</span> <span class="number">100</span>% <span class="number">80</span><span class="variable">%,</span> <span class="number">70</span>% <span class="number">50</span><span class="variable">%,</span> <span class="number">100</span>% <span class="number">20</span><span class="variable">%,</span> <span class="number">80</span>% <span class="number">0</span><span class="variable">%,</span> <span class="number">50</span>% <span class="number">30</span><span class="variable">%)</span>;
}
</code></pre><h2 id="在production中使用它">在production中使用它</h2><p>因为目前对clip-path形状的支持还仅局限于webkit内核的浏览器，所以在转移到Firefox以及IE的时候有明显的局限性。虽然Firefox还有其他的选项，比如<a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Clipping_and_masking" target="_blank" rel="external">SVG掩蔽</a>，但是两种状态之间的过渡在一些电脑上可能没办法实现。</p>
<p>总而言之，如果你想探讨重现某些效果，Chrome和其他的webkit浏览器，比如Safari都是广泛支持的。</p>
<h2 id="回到原来的任务">回到原来的任务</h2><p>因为试图重建Squarespace导航的效果，把这些东西都给拖出来了。通过采用定位的方法，把一个元素覆盖在另一个元素之上，然后使用clip-path来掩蔽图像，我们现在只是简单地展示背景图像，没有使用任何花哨的图片替换技术。</p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/993/1*c5c9qku4G-Q46SsSXs8zWw.gif" alt=""></p>
<p><em>View the code on <a href="http://codepen.io/drewminns/pen/vEZOeq" target="_blank" rel="external">codepen</a></em></p>
<p>我也不了解你，但是期待以后有越来越多的几何形状。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/06/02/Making Sense of Clip Path译文/" data-id="cid0cmekl0000d8lbxj6bsmvb" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SVG/">SVG</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/翻译/">翻译</a></li></ul>

    </footer>
  </div>
  
</article>

  


<section id="comment">
  
    <article id="post-The SVG Canvas, Coordinate System, And Viewport译文" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/05/28/The SVG Canvas, Coordinate System, And Viewport译文/" class="article-date">
  <time datetime="2015-05-27T16:08:29.000Z" itemprop="datePublished">2015-05-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/blog/">blog</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/28/The SVG Canvas, Coordinate System, And Viewport译文/">The SVG Canvas, Coordinate System, And Viewport译文</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="SVG画布，坐标系统，视窗">SVG画布，坐标系统，视窗</h1><p>当你在屏幕上看SVG图像时，你是通过SVG视窗来看到画布的，所以其实你只看到了画布的一部分。画布和视窗是既相互独立又相互联系的概念，它们之间的关系很容易混淆，导致有时会有预料之外的结果。你只有弄明白了它们之间的关系，才知道如何去控制它们。</p>
<p><img src="http://www.vanseodesign.com/blog/wp-content/uploads/2015/03/wpid-svg-coordinate-system.png" alt=""></p>
<p>今年年初，我开始写SVG系列的文章，介绍了<a href="http://www.vanseodesign.com/web-design/svg-basics/" target="_blank" rel="external">SVG</a>的一些基本的使用。我说过我会在这个系列结束的时候做一下总结，来总结我们这一年来学习的内容。今天先来写第一个总结。</p>
<p>下面这是之前的文章，看一下你有没有漏掉了哪一篇（带<a href="http://www.w3cplus.com/" target="_blank" rel="external">w3cplus</a>上对应文章的翻译链接）。</p>
<ul>
<li><a href="http://www.w3cplus.com/svg/svg-basics.html" target="_blank" rel="external">SVG基础——如何使用可缩放矢量图形（SVG）</a></li>
<li><a href="http://www.w3cplus.com/svg/svg-shapes-lines.html" target="_blank" rel="external">SVG基础——如何创建简单的图形和线条</a></li>
<li><a href="http://www.w3cplus.com/svg/svg-fill-stroke.html" target="_blank" rel="external">SVG基础——填充和描边</a></li>
<li><a href="http://www.w3cplus.com/svg/svg-paths-line-commands.html" target="_blank" rel="external">SVG基础——使用Line指令创建路径</a></li>
<li><a href="http://www.w3cplus.com/svg/svg-paths-curve-commands.html" target="_blank" rel="external">SVG基础——使用Curve指令创建路径</a></li>
</ul>
<p>如果你看过前面这一系列的文章，你可能记得我提过：如果你的SVG被剪裁，你应该在<code>&lt;svg&gt;</code>这个根元素中添加一个width以及/或者height。今天我来解释一下为什么要这样做。我想先讲讲SVG的坐标系统，用于绘制图形的SVG画布，以及你用于查看画布内容的视窗。</p>
<p>在我第一次研究<a href="http://www.w3.org/TR/SVG/coords.html" target="_blank" rel="external">SVG坐标系统</a>以及视窗时，我发现我很难从概念上去理解它们，我觉得可能是因为我没有从一个正确的方向来理解它们。在我试图去理解概念的含义时，我想到了一个比喻，后面我会分享给大家。</p>
<p>这个题目之前有其他人讲解过，而且提供了不同的方法来帮助读者从概念上理解发生了什么事情，给你发几个我看的，而且觉得不错的。</p>
<ul>
<li><a href="http://sarasoueidan.com/blog/svg-coordinate-systems/" target="_blank" rel="external">理解SVG坐标系统和转换（Part 1）——The viewport, viewBox, and preserveAspectRatio</a></li>
<li><a href="http://tutorials.jenkov.com/svg/svg-coordinate-system.html" target="_blank" rel="external">SVG坐标系统</a></li>
</ul>
<p>上面的第一篇文章是Sara Soueidan写的系列的文章中的第一篇，我会在接下来的几个星期内讲讲Sara在这篇文章中讲解的内容。上面的第二篇文章是Jakob Jenkov的SVG教程中的一部分。Jakob提供了很多很棒的示例，极大地帮助了我弄明白这些东西都是怎么工作的。</p>
<h2 id="比喻">比喻</h2><p>想象一个无穷大的画布，你可以在<a href="http://www.vanseodesign.com/web-design/new-canon/" target="_blank" rel="external">画布</a>上的任何地方绘制你想要的任何内容，你也可以以任何你想要的尺寸来绘制。这就是SVG画布。</p>
<p>现在接着想象，有人在你的画布正前方建立了一堵同样的无穷大的墙，墙的宽度和高度也是无限延伸的，把画布全都挡住了。</p>
<p>因为墙都是直接放在画布前面的，所以我们无法看到画布上的内容。但是建墙的人很好，帮我们开了一扇窗户，甚至还给了我们设置这扇窗户大小尺寸的能力。这扇窗户就是SVG视窗。</p>
<p>墙的筑造者并没有在这里停住。他还给我们留下了工具，我们可以用它来移动画布，决定要将画布的哪部分显示在窗口区域，还可以决定要显示的区域的大小。这些工具在SVG元素中是以属性的形式（<code>viewBox</code>和<code>preserveAspectRatio</code>）表现出来的。</p>
<p>我会在接下来的两周讲解这些属性。今天我想将内容集中在画布、墙、视窗上，先从它们使用的坐标系统讲起：</p>
<h2 id="SVG坐标系统">SVG坐标系统</h2><p>虽然SVG和<a href="http://www.vanseodesign.com/css/display-property/" target="_blank" rel="external">CSS盒模型</a>的表现形式不一样，但是它们的坐标系统的工作方式是相同的。</p>
<p>所有SVG坐标系的起点(0,0)都是在父元素的左上角，它们的父元素可以是body元素、div元素、或其它的容器。</p>
<p>当你创建了一个新的SVG元素，你也就创建了一个新的坐标系统，即无穷大的SVG画布。起点可能是和父元素的左上角对齐，但是画布在所有方向无限延伸的。x轴的正方向是向右，y轴的正方向是向下。两个坐标轴的负方向也会向左边和上边延伸。</p>
<p>关于SVG有一点需要明白的就是多坐标系统的同时使用。每次你创建一个新的SVG元素，就相当于在它的坐标空间创建了一个新的画布，同时也创建了一个视窗。</p>
<p>每一对画布和视窗的坐标系统都是默认对齐的。它们看起来就像是在同一个系统内，但其实并不是。正如我们接下来要看的，你可以改变它们相互对齐的方式。</p>
<p>在实际中，你在无穷大的画布上创建的元素是放置在画布的原点附近的，但是理论上，它们是可以放在任何地方的。你可以创建一个圆，然后把它放在原点右边四十亿像素远的地方，没人阻止你这样做。</p>
<p>理论上，窗口也可以是接近无穷大的，你可以设置你想要的任何尺寸。但是，你只有固定了窗口的尺寸，它才可以是固定大小的，而且你一旦设置了尺寸，坐标系统将会在空间上保持这个大小。</p>
<p>用户代理程序（即浏览器）会默认对齐这两个坐标系统的原点和坐标轴，但是你可以根据自己的需要改变这种<a href="http://www.vanseodesign.com/web-design/design-basics-alignment/" target="_blank" rel="external">对齐方式</a>。</p>
<p>这两个系统可以设置不同的单位。可以把一个设置为像素，另一个设置为毫米、picas、英寸、点、ems，或者其他任何你想要的单位。百分比%是例外，它不能在这里使用。</p>
<p>再次记住，这两个坐标系统，一个是作用在无穷大的画布上的，另一个是作用于固定窗口的。</p>
<h2 id="SVG视窗">SVG视窗</h2><p>每次你创建了一个新的SVG元素，你也就创建了一个新的<a href="http://tutorials.jenkov.com/svg/svg-viewport-view-box.html" target="_blank" rel="external">SVG视窗</a>。视窗的大小等于你为SVG元素设置的宽度和高度。</p>
<pre><code>&lt;svg <span class="variable">width=</span><span class="string">"600"</span> <span class="variable">height=</span><span class="string">"300"</span> <span class="variable">style=</span><span class="string">"outline: 5px solid #630"</span>&gt;
  &lt;rect <span class="variable">width=</span><span class="string">"200"</span> <span class="variable">height=</span><span class="string">"100"</span> <span class="variable">fill=</span><span class="string">"#f00"</span> /&gt;
&lt;/svg&gt;
</code></pre><p>这里，我创建了一个600px宽，300px高的视窗。在视窗内我创建了一个200x100px的红色矩形。因为我没有指定单位，所以默认情况下会使用像素作为单位。因为这和我平时的设置是一样的，所以我倾向于不要指定单位，这样也比较快捷。</p>
<p>为了能够看到视窗的边界，我还为<code>&lt;svg&gt;</code>元素添加了一个outline。这是代码生成的结果。</p>
<p><strong>SVG图像</strong></p>
<p>你可以看到一个5px粗的棕色边框包围着一块宽为600px、高为300px的区域。边框内的内容就是视窗。</p>
<p>视窗内独立出来一个宽为200px、高为100px的红色矩形。默认情况下矩形的左上角是放在SVG画布的原点，和视窗的原点对齐。</p>
<p>我有个问题是，<a href="http://thatemil.com/blog/2014/04/06/intrinsic-sizing-of-svg-in-responsive-web-design/" target="_blank" rel="external">如果你没有为视窗设置宽和高，它的尺寸应该是怎样的呢？</a>我没有找到明确的答案。这是由每个用户代理程序（浏览器）决定的，但是好像一般默认是300px和150px。但是，我不建议是视窗按照默认的尺寸显示，最好还是按你自己的需要来设置尺寸吧。</p>
<h2 id="移动画布上的SVG元素">移动画布上的SVG元素</h2><p>你可以通过给矩形设置x值和y值，改变它在SVG画布上的位置。这里我把x值和y值都设置为10px，你可以看到矩形离开了视窗左上角的位置。</p>
<pre><code>&lt;svg <span class="variable">width=</span><span class="string">"600"</span> <span class="variable">height=</span><span class="string">"300"</span> <span class="variable">style=</span><span class="string">"outline: 5px solid #630&gt;
  &lt;rect x="</span><span class="number">10</span><span class="string">" y="</span><span class="number">10</span><span class="string">" width="</span><span class="number">200</span><span class="string">" height="</span><span class="number">100</span><span class="string">" fill="</span><span class="comment">#f00" /&gt;</span>
&lt;/svg&gt;
</code></pre><p><strong>SVG图像</strong></p>
<p>用这种方法改变x和y坐标的值，就相当于移动了SVG画布上绘制的对象。画布本身没有移动，视窗也没有移动。我只是在画布上的另一个位置绘制了一个同样的红色矩形。</p>
<p>你也可以画一个部分超出了视窗边界的矩形。</p>
<pre><code>&lt;svg <span class="variable">width=</span><span class="string">"600"</span> <span class="variable">height=</span><span class="string">"300"</span> <span class="variable">style=</span><span class="string">"outline: 5px solid #630&gt;
  &lt;rect x="</span>-<span class="number">100</span><span class="string">" y="</span>-<span class="number">50</span><span class="string">" width="</span><span class="number">200</span><span class="string">" height="</span><span class="number">100</span><span class="string">" fill="</span><span class="comment">#f00" /&gt;</span>
&lt;/svg&gt;
</code></pre><p>在这里你可以看到，矩形的大部分都变成不可见的了，只有小部分仍然可以在窗口中看到。其实我只是把它移动了<a href="http://www.vanseodesign.com/css/em-px/" target="_blank" rel="external">几个像素</a>，所以理论上你可以在这个无穷大的画布上的任何你喜欢的位置绘制矩形。</p>
<p><strong>SVG图像</strong></p>
<h2 id="看到视窗外面的内容">看到视窗外面的内容</h2><p>有一个东西我不常见人提到的是：为什么我们看不到视窗之外的内容。因为SVG元素有一个默认值为<code>hidden</code>的<code>overflow</code>属性，所以任何超出视窗的内容都会被隐藏。</p>
<p>当然，<code>overflow</code>属性也可以设置为其它值，比如<code>visible</code>。</p>
<pre><code>&lt;svg <span class="variable">width=</span><span class="string">"600"</span> <span class="variable">height=</span><span class="string">"300"</span> <span class="variable">style=</span><span class="string">"outline: 5px solid #630; overflow: visible"</span>&gt;
  &lt;rect <span class="variable">x=</span><span class="string">"-100"</span> <span class="variable">y=</span><span class="string">"-50"</span> <span class="variable">width=</span><span class="string">"200"</span> <span class="variable">height=</span><span class="string">"100"</span> <span class="variable">fill=</span><span class="string">"red"</span> /&gt;
&lt;/svg&gt;
</code></pre><p>把<code>overflow</code>属性的值改为<code>visible</code>，你可以看到SVG画布上超出视窗的那几部分内容，包括画布上那部分能出现在你屏幕上的内容（你的浏览器创建的另一个视窗）。</p>
<p><strong>SVG图像</strong></p>
<p>现在你可以看到整个红色矩形了，包括超出视窗边界的部分。在使用SVG工作的时候你一般不会这么做，现在这只是一个帮助你理解到底发生了什么东西的方式。</p>
<h2 id="建立一个新的视窗">建立一个新的视窗</h2><p>前面我说过有SVG是多个坐标系是同时作用的。最简单的情况下，也有一个用于画布，一个用于视窗的坐标系。我也提到了你可以创建新的画布，并<a href="http://www.w3.org/TR/SVG/coords.html#EstablishingANewViewport" target="_blank" rel="external">建立新的窗口</a>。</p>
<p>每次你新建SVG元素，即使是<a href="http://sarasoueidan.com/blog/nesting-svgs/" target="_blank" rel="external">嵌套在另一个SVG元素内</a>，你会用它自己的坐标系统创建新的画布及视窗。只有较少数元素会创建新的画布和视窗：</p>
<ul>
<li><code>&lt;svg&gt;</code>元素</li>
<li>实例化<code>&lt;use&gt;</code>元素时的<code>&lt;symbol&gt;</code>元素。</li>
<li>引入SVG文件的<code>&lt;img&gt;</code>元素</li>
<li><code>&lt;foreignObject&gt;</code>元素</li>
</ul>
<p>因为我们还没有开始讨论这些元素（除了SVG元素），我现在只是把它们罗列出来。我现在主要是想强调在同一个HTML文件中创建多个SVG画布和视窗。</p>
<h2 id="Closing_Thoughts">Closing Thoughts</h2><h2 id="结束语">结束语</h2><p>今天我就先讲到这里。可能我没有讲到太多SVG的新内容，但是我想要先理解好概念之后，再深入研究。</p>
<p>这个帮助我理解概念的比喻是：在一块无穷大的画布前有一堵无穷大的墙。我们通过墙上的一扇窗看到SVG画布上的内容，这扇窗就是SVG视窗，我们可以控制这扇窗的大小。</p>
<p>下周我会继续写文章，主要讲一两个属性，我们可以使用它们来四处移动画布，还可以决定画布的哪一部分或者是画布的多少内容要显示在视窗中。我会看看<code>viewBox</code>属性，然后接下来的星期我会聊聊<code>preserveAspectRatio</code>属性。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/05/28/The SVG Canvas, Coordinate System, And Viewport译文/" data-id="cid0cmem20009d8lba3vnivfd" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SVG/">SVG</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/翻译/">翻译</a></li></ul>

    </footer>
  </div>
  
</article>

  


<section id="comment">
  
  
</section>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 yanzilulu<br>
      <a href="https://github.com/ken8203/hexo-theme-alberta" target="_blank">Alberta</a> by <a href="http://jaychung.tw" target="_blank">jaychung</a>. Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Thank <a href="http://subtlepatterns.com/" target="_blank">Subtlepatterns</a>
    </div>
  </div>
</footer>
    </div>
    
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="//imsky.github.io/holder/holder.js"></script>

  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>